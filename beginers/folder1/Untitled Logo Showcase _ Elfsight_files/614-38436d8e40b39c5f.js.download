"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[614],{4890:function(e,t,n){n.d(t,{Bf:function(){return A},Bb:function(){return a},L:function(){return D}});var i,r,a,o=n(24246),l=n(27378),s=n(44209),c=n(61615),d=n(91406),u=n(12125),p=n(61973),f=n(11163),h=n(5332),g=n(88039),m=n(88047),v=n(50548),x=n(79504),j=n(95474),w=n(76666),C=n(49450),b=n(77367),y=n(60027);function E(){return(E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(null,arguments)}var I=function(e){return l.createElement("svg",E({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},e),r||(r=l.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.964 2.917c-.508 0-.91.456-.879.996v11.458c.03.494.414.88.879.88h14.072c.512 0 .915-.463.878-1.006V5.929c-.033-.49-.417-.87-.878-.87H10.42a.854.854 0 0 1-.627-.279L8.328 3.197a.855.855 0 0 0-.627-.28H2.964Zm10.46 6.008a.6.6 0 0 0-.848-.849L9 11.652l-1.576-1.576a.6.6 0 0 0-.848.849l2 2a.6.6 0 0 0 .848 0l4-4Z",clipRule:"evenodd"})))};function S(e){let{projectName:t,widgetName:n,moveToProject:i,onAction:r,onClose:a}=e,l='Widget "'.concat(n,'" was ').concat(i?"moved":"assigned",' to project "').concat(t,'"');return(0,o.jsx)(y.F,{message:l,icon:(0,o.jsx)(I,{}),actionText:"View Project",withAction:!0,onAction:r,onClose:a})}function P(e){var t;let{isOpen:n,widget:i,onRequestClose:r,onSuccess:a,isProjectsPage:s,...c}=e,{push:d}=(0,f.useRouter)(),{name:u,assignedProject:p,pid:y}=i,{setItemsTransition:E,listQueryKey:I}=(0,w.Ii)(),{data:P}=(0,j.MW)(),{data:T}=(0,j.o9)(),R=(0,C.GI)({widgetPid:y,listQueryKey:I}),A=(0,C.Yg)(I),D=(0,b.a)({exceptionProjectPid:null==p?void 0:p.pid}),{mutate:_}=(0,j.eM)({onMutate:s?()=>{R(),A()}:void 0,onSuccess:()=>{let e=null==T?void 0:T.payload.find(e=>{let{pid:t}=e;return t===z});e&&(0,h.Am)(t=>(0,o.jsx)(S,{widgetName:u,projectName:e.name,onAction:()=>d("/projects/".concat(e.pid)),onClose:()=>h.Am.dismiss(t.id),moveToProject:!!p})),D()},onError:()=>{E(!1)},onSettled:()=>{a()}}),{register:k,handleSubmit:W,formState:{errors:O},watch:M,setValue:N,setError:Z,resetField:H,clearErrors:F}=(0,g.cI)({mode:"onChange",resolver:(0,m.L)(x.kkF),defaultValues:{widgetPid:y,projectPid:""}}),B=(0,v.wL)(n),z=M("projectPid"),G=(null==P?void 0:P.available)&&(null==P?void 0:P.hasProject);if((0,l.useEffect)(()=>{k("projectPid")},[k]),(0,l.useEffect)(()=>{T&&i&&G&&N("projectPid",U.value)},[T,i,G]),!T||!G)return null;let U=function(e,t){var n,i,r,a,o;if(t)return{value:t.pid,label:t.name};if(null==e?void 0:e.meta.lastUsedProjectPid){let t=null===(o=e.payload.find(t=>{let{pid:n}=t;return n===e.meta.lastUsedProjectPid}))||void 0===o?void 0:o.name;return{value:e.meta.lastUsedProjectPid,label:t}}return{value:(null===(i=e.payload)||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:n.pid)||"",label:(null===(a=e.payload)||void 0===a?void 0:null===(r=a[0])||void 0===r?void 0:r.name)||""}}(T,p),V=[U,...T.payload.map(e=>{let{pid:t,name:n}=e;return{value:t,label:n}}).filter(e=>{let{value:t}=e;return t!==U.value})],X=e=>{if(e.preventDefault(),z===(null==p?void 0:p.pid)){Z("projectPid",{message:"Widget is already assigned to this project. Choose another project."});return}W(e=>{let{projectPid:t,widgetPid:n}=e;E(!0),_({widgetPid:n,projectPid:t})})(),r&&r(e)},J=()=>{H("projectPid",{defaultValue:U.value})};return(0,o.jsx)(v.u_,{isOpen:n,title:(0,o.jsx)(L,{children:'Assign widget "'.concat(u,'" to project')}),onRequestClose:e=>{J(),r&&r(e)},actions:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(v.zx,{fullWidth:!0,center:!0,variation:"secondary",onClick:e=>{J(),r&&r(e)},children:"Cancel"}),(0,o.jsx)(v.zx,{fullWidth:!0,center:!0,variation:"accentPrimary",onClick:X,type:"submit",children:"Assign to Project"})]}),...c,children:(0,o.jsx)(v.l0,{onSubmit:X,children:(0,o.jsx)(v.Ph,{ref:B,value:z,onChange:e=>{F("projectPid"),N("projectPid",e.target.value)},error:null==O?void 0:null===(t=O.projectPid)||void 0===t?void 0:t.message,options:V,popoverMaxWidth:700,withPositionFixedParent:!0})})})}let L=(0,p.default)(v.H2).withConfig({componentId:"sc-16031bc6-0"})(["margin-bottom:20px;text-align:left;"]);var T=n(85459);(i=a||(a={})).LIMIT_REACHED="limit-reached",i.RENAME="rename",i.DELETE="delete",i.FORM_RESPONSES="form-responses",i.INSTALL="install",i.UNINSTALL_APP="uninstall-app",i.ASSIGN_WIDGET_TO_PROJECT="assign-widget-to-project",i.REMOVE_WIDGET_FROM_PROJECT="remove-widget-from-project",i.UPDATE_WIDGET_TO_NEW_VERSION="update-widget-to-new-version";let R=(0,l.createContext)(null);function A(e){let{widget:t,subscriptionAppInfo:n,isProjectsPage:i,children:r}=e,{pid:a,name:p,assignedProject:f}=t,{app:{alias:h,name:g},plan:m}=n,v=(0,d.p)(),x=(0,u.f)(),j=(0,T.l)(),[w,C]=(0,l.useState)(),b=async e=>{C(e)},y=async()=>{C(void 0)},E=()=>{x(),v(),j()};return(0,o.jsxs)(R.Provider,{value:{modal:w,open:b,close:y},children:[r,(0,o.jsx)(s.w2,{isOpen:"rename"===w,widgetPid:a,widgetName:p,onSuccess:E,onRequestClose:y}),(0,o.jsx)(s.JP,{isOpen:"update-widget-to-new-version"===w,widgetPid:a,onSuccess:E,onClose:y}),(0,o.jsx)(s.b2,{isOpen:"delete"===w,widgetPid:a,widgetName:p,onSuccess:E,onRequestClose:y}),(0,o.jsx)(s.c1,{withClose:!0,isOpen:"limit-reached"===w,appAlias:h,onRequestClose:y,isProjectsPage:i,projectPid:null==f?void 0:f.pid}),(0,o.jsx)(s.TW,{isOpen:"form-responses"===w,widgetPid:t.pid,onRequestClose:y}),(0,o.jsx)(c.Wz,{isOpen:"install"===w,widgetPid:t.pid,appAlias:h,onRequestClose:y,plan:m,widgetName:p,appName:g}),(0,o.jsx)(P,{isOpen:"assign-widget-to-project"===w,widget:t,onSuccess:E,onRequestClose:y,isProjectsPage:i})]})}function D(){let e=(0,l.useContext)(R);if(null===e)throw Error("`useAppWidgetsWidgetModal` must be nested inside an `AppWidgetsWidgetModalProvider`.");return e}},37197:function(e,t,n){n.d(t,{ms:function(){return h},a6:function(){return f},uA:function(){return l},dN:function(){return p}});var i,r,a,o=n(79504);let l=[{label:"Date Created",value:o.VMZ.DATE_CREATED},{label:"Last Modified",value:o.VMZ.LAST_MODIFIED},{label:"Alphabetical",value:o.VMZ.ALPHABETICAL}];var s=n(27378);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(null,arguments)}function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(null,arguments)}function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(null,arguments)}let p=[{label:"List",value:o.Alt.LIST,rightIcon:function(e){return s.createElement("svg",d({viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=s.createElement("path",{d:"M6.4 8.8a.8.8 0 0 1 .8.8v3.2a.8.8 0 0 1-.8.8h-4a.8.8 0 0 1-.8-.8V9.6a.8.8 0 0 1 .8-.8h4Zm-.32 1.12H2.72v2.56h3.36V9.92ZM6.4 2.4a.8.8 0 0 1 .8.8v3.2a.8.8 0 0 1-.8.8h-4a.8.8 0 0 1-.8-.8V3.2a.8.8 0 0 1 .8-.8h4Zm-.32 1.12H2.72v2.56h3.36V3.52Zm2.32 0a.64.64 0 0 1 .64-.64h4.72a.64.64 0 1 1 0 1.28H9.04a.64.64 0 0 1-.64-.64Zm.64 1.76a.64.64 0 1 0 0 1.28h4.72a.64.64 0 1 0 0-1.28H9.04Zm-.64 4.8a.64.64 0 0 1 .64-.64h4.72a.64.64 0 1 1 0 1.28H9.04a.64.64 0 0 1-.64-.64Zm.64 1.76a.64.64 0 1 0 0 1.28h4.72a.64.64 0 1 0 0-1.28H9.04Z",fill:"currentColor"})))}},{label:"Table",value:o.Alt.TABLE,rightIcon:function(e){return s.createElement("svg",u({viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a||(a=s.createElement("path",{d:"M6.708 4.32h-5.27a.64.64 0 0 1-.08-1.275l.08-.005h5.27a.639.639 0 0 1 0 1.28Zm7.853-1.28a.64.64 0 0 1 .08 1.275l-.08.005H9.264a.64.64 0 0 1 0-1.28h5.297ZM6.708 7.2h-5.27a.64.64 0 0 1-.08-1.275l.08-.005h5.27a.639.639 0 0 1 0 1.28Zm7.853-1.28a.64.64 0 0 1 .08 1.275l-.08.005H9.264a.64.64 0 0 1 0-1.28h5.297ZM1.439 10.08h5.27a.64.64 0 0 0 0-1.28h-5.27l-.08.005a.64.64 0 0 0 .08 1.275Zm13.76-.64a.64.64 0 0 0-.638-.64H9.264a.64.64 0 0 0 0 1.28h5.297l.08-.005a.64.64 0 0 0 .559-.635Zm-8.49 3.52h-5.27a.64.64 0 0 1-.08-1.275l.08-.005h5.27a.639.639 0 0 1 0 1.28Zm7.852-1.28a.64.64 0 0 1 .08 1.275l-.08.005H9.264a.64.64 0 0 1 0-1.28h5.297Z",fill:"currentColor"})))}},{label:"Grid",value:o.Alt.GRID,rightIcon:function(e){return s.createElement("svg",c({viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=s.createElement("path",{d:"M6.4 8.8a.8.8 0 0 1 .8.8v3.2a.8.8 0 0 1-.8.8h-4a.8.8 0 0 1-.8-.8V9.6a.8.8 0 0 1 .8-.8h4Zm7.2 0a.8.8 0 0 1 .8.8v3.2a.8.8 0 0 1-.8.8h-4a.8.8 0 0 1-.8-.8V9.6a.8.8 0 0 1 .8-.8h4ZM6.08 9.92H2.72v2.56h3.36V9.92Zm7.2 0H9.92v2.56h3.36V9.92ZM6.4 2.4a.8.8 0 0 1 .8.8v3.2a.8.8 0 0 1-.8.8h-4a.8.8 0 0 1-.8-.8V3.2a.8.8 0 0 1 .8-.8h4Zm7.2 0a.8.8 0 0 1 .8.8v3.2a.8.8 0 0 1-.8.8h-4a.8.8 0 0 1-.8-.8V3.2a.8.8 0 0 1 .8-.8h4ZM6.08 3.52H2.72v2.56h3.36V3.52Zm7.2 0H9.92v2.56h3.36V3.52Z",fill:"currentColor"})))}}],f="search",h="page"},28349:function(e,t,n){n.d(t,{Ff:function(){return o},Zd:function(){return v},eX:function(){return g}});var i,r,a,o,l=n(24246),s=n(27378),c=n(79504),d=n(95474),u=n(66537),p=n(65773),f=n(37197);let h=(0,s.createContext)(null);function g(){let e=(0,s.useContext)(h);if(null===e)throw Error("`useAppWidgetsContext` must be nested inside an `AppWidgetsProvider`.");return e}function m(e,t){switch(t.type){case"PAGE":return{...e,page:t.page};case"LAST_PAGE":return{...e,lastPage:t.lastPage};case"SEARCH":return{...e,search:t.search};case"WIDGETS_DISPLAY":return{...e,widgetsDisplay:t.widgetsDisplay};case"SORT_BY":return{...e,sortBy:t.sortBy};case"ITEMS_PER_PAGE":return{...e,itemsPerPage:t.itemsPerPage};case"ITEMS_TRANSITION":return{...e,itemsTransition:t.itemsTransition}}}function v(e){let{children:t}=e,{viewWidgetsVariant:n,sortWidgetsVariant:i,isLoading:r}=(0,p.GR)(),{mutate:g}=(0,d.PQ)(),v=(0,s.useMemo)(()=>({page:1,lastPage:1,search:"",widgetsDisplay:null!=n?n:c.Alt.LIST,sortBy:null!=i?i:c.VMZ.DATE_CREATED,itemsPerPage:a[null!=n?n:c.Alt.LIST],itemsTransition:!1}),[n,i]);(0,s.useEffect)(()=>{j({type:o.WIDGETS_DISPLAY,widgetsDisplay:null!=n?n:c.Alt.LIST}),j({type:o.SORT_BY,sortBy:null!=i?i:c.VMZ.DATE_CREATED}),j({type:o.ITEMS_PER_PAGE,itemsPerPage:a[null!=n?n:c.Alt.LIST]})},[n,i]);let[x,j]=(0,s.useReducer)(m,v),[,w]=(0,u.KL)([f.a6,f.ms]);(0,u.Se)(f.a6,e=>{j({type:o.SEARCH,search:e})}),(0,u.Se)(f.ms,e=>{j({type:o.PAGE,page:Number(e)})});let C=e=>{j({type:o.PAGE,page:Number(e)}),w({[f.ms]:1===e?void 0:String(e)})},b=e=>{j({type:o.ITEMS_PER_PAGE,itemsPerPage:e})};return r?null:(0,l.jsx)(h.Provider,{value:{state:x,dispatch:j,setPage:C,setSearch:e=>{j({type:o.SEARCH,search:e}),j({type:o.PAGE,page:1}),w({[f.a6]:e,[f.ms]:void 0})},setWidgetsDisplay:e=>{j({type:o.WIDGETS_DISPLAY,widgetsDisplay:e}),g({viewWidgetsVariant:e}),b(a[e]),C(1)},setSortBy:e=>{j({type:o.SORT_BY,sortBy:e}),g({sortWidgetsVariant:e})},setItemsPerPage:b,setItemsTransition:e=>{j({type:o.ITEMS_TRANSITION,itemsTransition:e})}},children:t})}(i=a||(a={}))[i.LIST=10]="LIST",i[i.TABLE=20]="TABLE",i[i.GRID=12]="GRID",(r=o||(o={})).PAGE="PAGE",r.LAST_PAGE="LAST_PAGE",r.SEARCH="SEARCH",r.WIDGETS_DISPLAY="WIDGETS_DISPLAY",r.SORT_BY="SORT_BY",r.ITEMS_PER_PAGE="ITEMS_PER_PAGE",r.ITEMS_TRANSITION="ITEMS_TRANSITION"},76666:function(e,t,n){n.d(t,{W$:function(){return er},f4:function(){return ei.f},sN:function(){return h},uU:function(){return Q},H2:function(){return $},fX:function(){return K},W_:function(){return et},uJ:function(){return U},cr:function(){return d},Ii:function(){return en}});var i,r,a=n(24246),o=n(61973),l=n(71121),s=n(50548),c=n(79504);function d(e){let{widget:t,titleColor:n,href:i,variant:r,isDraft:o=!1,...d}=e,{name:h,visibility:g}=t,m=(0,a.jsxs)(p,{variant:r,children:[h,g===c.C2Q.HIDDEN&&(0,a.jsxs)(a.Fragment,{children:["\xa0",(0,a.jsx)(s.u,{content:"This widget is hidden on your website",openDelay:0,children:(0,a.jsx)(f,{component:l.Z,size:16,fill:"black",onClick:e=>e.preventDefault()})})]})]});return(0,a.jsx)(u,{$isDraft:o,$color:o?"black":n,href:o?void 0:i,...d,children:m})}let u=(0,o.default)(s.ZN).withConfig({componentId:"sc-12730fa2-0"})(["display:flex;overflow:hidden;text-decoration:none;align-items:center;color:",";",";"],e=>{let{theme:t,$color:n}=e;return(0,s.ak)(n,t)},e=>{let{$isDraft:t=!1}=e;return t?(0,o.css)(["opacity:0.3;"]):(0,o.css)(["&:hover{text-decoration:underline;text-underline-offset:2.5px;}"])}),p=(0,o.default)(s.ZT).withConfig({componentId:"sc-12730fa2-1"})(["color:inherit;overflow:hidden;"]),f=(0,o.default)(s.JO).withConfig({componentId:"sc-12730fa2-2"})(["display:inline-flex;vertical-align:middle;top:-2px;position:relative;"]);function h(){return(0,a.jsx)(g,{children:"No widgets found"})}let g=o.default.div.withConfig({componentId:"sc-ec460089-0"})(["color:",";display:flex;align-items:center;justify-content:center;height:100%;"],e=>{let{theme:t}=e;return t.colors.gray30});var m=n(27378),v=n(11163),x=n.n(v),j=n(5332),w=n(61714),C=n(88465),b=n(52186),y=n(7127),E=n(20293),I=n(44126),S=n(92449),P=n(56729),L=n(95474),T=n(66537),R=n(16023),A=n(83595),D=n(78478),_=n(61615),k=n(54616),W=n(91406),O=n(85459),M=n(91314);function N(){return(N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(null,arguments)}var Z=function(e){return m.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"},e),i||(i=m.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:1.2,d:"M3.202 4.784V3.24c-.028-.455.321-.84.762-.84h3.312c.154 0 .303.048.428.136a.8.8 0 0 1 .2.228l.668 1.028a.8.8 0 0 0 .2.229.745.745 0 0 0 .428.136h5.237c.4 0 .732.32.761.733v7.062c.032.458-.318.848-.761.848h-9.44M.8 13.6v-2.4a2 2 0 0 1 2-2H4m.8 0L3.2 7.6m1.6 1.6-1.6 1.6"})))};function H(){return(H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(null,arguments)}var F=function(e){return m.createElement("svg",H({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"},e),r||(r=m.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:1.2,d:"M3.202 4.741V3.24c-.028-.455.321-.84.762-.84h3.312c.154 0 .303.048.428.136a.8.8 0 0 1 .2.228l.668 1.028a.8.8 0 0 0 .2.229.745.745 0 0 0 .428.136h5.237c.4 0 .732.32.761.733v7.062c.032.458-.318.848-.761.848H3.995M1.6 8.8h4.8m-4 1.6L.8 8.8m1.6-1.6L.8 8.8"})))},B=n(49450),z=n(28349),G=n(4890);let U=(0,m.forwardRef)(function(e,t){let{widget:n,subscriptionAppInfo:i,projectsInfo:r,isProjectsPage:o,withBadge:d=!1,...u}=e,{pid:p,name:f,isDraft:h,visibility:g,canUpdateToNewVersion:v,assignedProject:N}=n,{isLiteSubscription:H,app:U}=i,J=(0,w.NL)(),q=(0,W.p)(),Q=(0,O.l)(),{state:{sortBy:Y}}=(0,z.eX)(),{itemsTransition:$,setItemsTransition:K,listQueryKey:ee}=en(),et=(0,B.Yg)(ee),ei=(0,B.GI)({widgetPid:p,listQueryKey:ee}),{mutate:er}=(0,L.Go)({onMutate:o?()=>{ei(),et()}:void 0,onError:()=>{K(!1)},onSettled:()=>{K(!1),q(),Q()}}),[ea,eo]=(0,m.useState)(!1),{open:el}=(0,G.L)(),es=(0,B.U0)({widgetPid:p,appInfo:i}),ec=(0,B.U0)({widgetPid:p,appInfo:i,installTab:_.EJ.SHARE}),{mutate:ed}=(0,L.WO)(p,{onSuccess:e=>{let{visibility:t}=e;q(),Q(),t===c.C2Q.VISIBLE&&j.Am.success('Widget "'.concat(f,'" is now visible on your website.'),{icon:(0,a.jsx)(C.Z,{})}),t===c.C2Q.HIDDEN&&j.Am.success('Widget "'.concat(f,'" was hidden from your website.'),{icon:(0,a.jsx)(l.Z,{})})}}),{mutate:eu,isLoading:ep}=(0,L.db)({widgetPid:p,projectPid:o?null==N?void 0:N.pid:void 0},{onMutate:async()=>{await J.cancelQueries(ee),J.setQueryData(ee,function(){let{meta:e,payload:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{meta:{lastPage:0,totalItems:0},payload:[]},n={...t[0],pid:"skeleton-item",isPlaceholder:!0},i=Y===c.VMZ.ALPHABETICAL?t.findIndex(e=>e.pid===p)+1:0,r=t.slice();return r.splice(i,0,n),{payload:r,meta:e}})},onSuccess:()=>{eo(!0),j.Am.success('The copy of "'.concat(f,'" was created.'))},onError:e=>{if(K(!1),q(),Q(),e===P.mz.WIDGETS_LIMIT_REACHED)return el(G.Bb.LIMIT_REACHED);(0,k.OJ)(e)}}),ef=()=>{el(G.Bb.ASSIGN_WIDGET_TO_PROJECT)},eh=!R.Fy.includes(n.app.alias);return(0,m.useEffect)(()=>{ea&&!$&&(eo(!1),q(),Q())},[ea,$]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(s.xV,{badge:d?(0,a.jsx)(s.Ct,{offset:[-6,-6],children:"1"}):void 0,...u,ref:t,children:[!h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.lX,{onClick:es,rightIcon:b.Z,children:"Embed Code"}),eh&&(0,a.jsx)(s.lX,{onClick:ec,rightIcon:y.Z,children:"Share by Link"})]}),(0,a.jsx)(V,{}),U.canExportData&&(0,a.jsx)(s.lX,{target:"_blank",href:(0,T.n8)(p),rightIcon:E.Z,children:"Download Responses in CSV"}),H&&(0,a.jsx)(s.lX,{badge:(0,a.jsx)(s.Af,{color:"promo",children:"Upgrade"}),onClick:()=>{(0,L._P)({name:D.m2,params:{button_name:"Remove logo",button_place:"Dropdown"}});let e=(0,D.Ej)({headerCloseURL:"/apps/".concat(U.alias),app:U.alias,claim:"removeBranding",redirectURL:"/apps/".concat(U.alias)});x().push(e)},children:"Remove Elfsight Branding"}),r.available&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(V,{}),r.hasProject&&!N&&(0,a.jsx)(s.lX,{onClick:ef,rightIcon:Z,children:"Assign to Project..."}),N&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.lX,{onClick:ef,rightIcon:Z,children:"Move to Another Project..."}),(0,a.jsx)(s.lX,{onClick:()=>{N&&(K(!0),er({projectPid:N.pid,widgetPid:p},{onSuccess:()=>{j.Am.success('Widget "'.concat(f,'" was removed from "').concat(N.name,'"'))}}))},rightIcon:F,children:"Remove from Project"})]}),(0,a.jsx)(V,{})]}),(0,a.jsx)(s.lX,{onClick:()=>{K(!0),eu()},isLoading:ep,rightIcon:I.Z,children:"Duplicate"}),(0,a.jsx)(s.lX,{onClick:()=>el(G.Bb.RENAME),rightIcon:M.Z,children:"Rename widget"}),g===c.C2Q.HIDDEN&&(0,a.jsx)(s.lX,{onClick:()=>ed({visibility:c.C2Q.VISIBLE}),rightIcon:C.Z,children:"Show on Website"}),g===c.C2Q.VISIBLE&&(0,a.jsx)(s.lX,{onClick:()=>ed({visibility:c.C2Q.HIDDEN}),rightIcon:l.Z,children:"Hide from Website"}),v&&(0,a.jsx)(s.lX,{onClick:()=>el(G.Bb.UPDATE_WIDGET_TO_NEW_VERSION),rightIcon:A.Z,children:(0,a.jsxs)(X,{children:["Update to New Version ",(0,a.jsx)(s.Ct,{static:!0,children:"1"})]})}),(0,a.jsx)(V,{}),(0,a.jsx)(s.lX,{onClick:()=>el(G.Bb.DELETE),rightIcon:S.Z,danger:!0,children:"Delete Widget"})]})})}),V=(0,o.default)(s.JJ).withConfig({componentId:"sc-1fe367ec-0"})(["+ ","{display:none;}"],s.JJ),X=o.default.div.withConfig({componentId:"sc-1fe367ec-1"})(["display:flex;align-items:center;"]);var J=n(84222),q=n(37162);function Q(e){let{items:t,placeholder:n,isTransitionActive:i,onTransitionFinish:r,transitionClassNames:o,timeout:l=500,...s}=e;return(0,a.jsx)(Y,{...s,children:(0,a.jsx)(J.Z,{appear:!1,enter:i,exit:i,component:null,children:t.map(e=>(0,a.jsx)(q.Z,{nodeRef:e.nodeRef,classNames:o,timeout:l,onEntered:r,onExited:r,children:(0,a.jsx)($,{ref:e.nodeRef,children:(0,a.jsx)(K,{children:e.isPlaceholder?n:e.content})})},e.id))})})}let Y=o.default.div.withConfig({componentId:"sc-d499dbc7-0"})([""]),$=o.default.div.withConfig({componentId:"sc-d499dbc7-1"})([""]),K=o.default.div.withConfig({componentId:"sc-d499dbc7-2"})([""]),ee=(0,m.createContext)(null);function et(e){let{children:t,listQueryKey:n}=e,[i,r]=(0,m.useState)(!1);return(0,a.jsx)(ee.Provider,{value:{itemsTransition:i,setItemsTransition:r,listQueryKey:n},children:t})}function en(){let e=(0,m.useContext)(ee);if(null===e)throw Error("`useLayoutTransitionContext` must be nested inside an `LayoutTransitionProvider`.");return e}var ei=n(69082);function er(e){let{belongingFieldName:t,app:n,assignedProject:i,fallback:r=null,...o}=e,{alias:l,name:c}=n,d=()=>"appName"===t?(0,a.jsx)(eo,{href:"/apps/".concat(l),children:c}):"projectName"===t&&i?i.active?(0,a.jsx)(eo,{href:"/projects/".concat(i.pid),children:i.name}):(0,a.jsx)(s.u,{openDelay:0,width:300,alignCenter:!0,content:"Project deactivated due project limit on your current plan",children:(0,a.jsx)(s.ZT,{variant:"caption",color:"gray30",children:i.name})}):void 0;return d()?(0,a.jsx)(ea,{...o,children:d()}):r}let ea=o.default.div.withConfig({componentId:"sc-6ba7dfab-0"})(["overflow:hidden;word-break:break-word;"]),eo=(0,o.default)(s.rU).withConfig({componentId:"sc-6ba7dfab-1"})(["",";"],e=>{let{theme:t}=e;return t.font.caption});n(74988)},69082:function(e,t,n){n.d(t,{f:function(){return o}});var i=n(24246),r=n(61973),a=n(50548);function o(e){let{editURL:t,isDraft:n=!1,gap:r=8,fitContentButtons:o=!1,onActivateClick:d,onDeleteClick:u,onInstallClick:p,withUpdateButton:f,onUpdateClick:h,...g}=e;return(0,i.jsx)(s,{$gap:r,$fitContentButtons:o,...g,children:n?(0,i.jsxs)(i.Fragment,{children:[d&&(0,i.jsx)(l,{small:!0,center:!0,variation:"secondary",onClick:d,children:"Activate"}),u&&(0,i.jsx)(l,{small:!0,center:!0,variation:"alertSecondary",color:"alert",onClick:u,children:"Delete"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l,{small:!0,center:!0,variation:"secondary",href:t,children:"Edit"}),(0,i.jsx)(l,{small:!0,center:!0,variation:"secondary",onClick:p,children:"Install"}),f&&(0,i.jsxs)(c,{children:[(0,i.jsx)(l,{small:!0,center:!0,variation:"secondary",onClick:h,children:"Update"}),(0,i.jsx)(a.Ct,{offset:[-6,-6],children:"1"})]})]})})}let l=(0,r.default)(a.zx).withConfig({componentId:"sc-2896ab8e-0"})(["min-width:64px;"]),s=r.default.div.withConfig({componentId:"sc-2896ab8e-1"})(["display:flex;gap:",";align-items:center;","{","}"],e=>{let{$gap:t}=e;return"".concat(t,"px")},l,e=>{let{$fitContentButtons:t}=e;return t&&(0,r.css)(["min-width:auto;"])}),c=r.default.div.withConfig({componentId:"sc-2896ab8e-2"})(["position:relative;"])},74988:function(e,t,n){n.d(t,{j:function(){return l}});var i=n(24246),r=n(61973),a=n(50548),o=n(38250);function l(e){let{thumbnail:t,fallbackIcon:n,fallbackIconSize:r,fallbackIconFill:a,isDraft:l=!1}=e;return t?(0,i.jsx)(s,{_isDraft:l,children:(0,i.jsx)(o.hX,{src:t.url,intrinsicWidth:t.width,intrinsicHeight:t.height})}):(0,i.jsx)(d,{_isDraft:l,children:(0,i.jsx)(c,{icon:n,size:r,fill:a})})}let s=r.default.div.withConfig({componentId:"sc-af9dfc59-0"})(["position:relative;box-sizing:border-box;overflow:hidden;width:100%;height:100%;",""],e=>{let{_isDraft:t=!1}=e;return t&&(0,r.css)(["opacity:0.3;mix-blend-mode:luminosity;"])}),c=(0,r.default)(a.yO).withConfig({componentId:"sc-af9dfc59-1"})(["width:100%;height:100%;display:flex;align-items:center;justify-content:center;"]),d=r.default.div.withConfig({componentId:"sc-af9dfc59-2"})(["width:100%;height:100%;background:",";",""],e=>{let{theme:t}=e;return t.colors.background},e=>{let{_isDraft:t=!1}=e;return t&&(0,r.css)(["opacity:0.3;mix-blend-mode:luminosity;"])})},49450:function(e,t,n){n.d(t,{_d:function(){return a},TX:function(){return b},lP:function(){return C},fz:function(){return c},B7:function(){return o.B},U0:function(){return v},GI:function(){return E},df:function(){return d},Yg:function(){return S}});var i=n(79504),r=n(66537);let a=e=>{let{createdAt:t,updatedAt:n,sortBy:a,withPrefix:o=!0}=e;return a===i.VMZ.LAST_MODIFIED?"".concat(o?"Last modified ":"").concat((0,r.zg)(n)):"".concat(o?"Created ":"").concat((0,r.zg)(t))};var o=n(16229),l=n(27378),s=n(28349);function c(){let{dispatch:e}=(0,s.eX)();return(0,l.useCallback)(()=>{e({type:s.Ff.SEARCH,search:""}),e({type:s.Ff.PAGE,page:Number(1)})},[])}function d(){return(0,l.useRef)(null)}var u=n(11163),p=n.n(u),f=n(78478),h=n(61615),g=n(93989),m=n(4890);function v(e){let{widgetPid:t,appInfo:n,installTab:i=h.EJ.EMBED,manuallyInstall:a=!0}=e,{sendAddWidgetMessage:o}=(0,r.fu)(),{open:l}=(0,m.L)(),[,s]=(0,r.KL)([h.cX,h.vA]),c=(0,g.Kj)().isWixSession?h.EJ.WIX:i;return async e=>{if(e.preventDefault(),n){let{app:e,isLiteSubscription:i,isLitePlanSubscriptionConfirmed:r}=n,a=(0,f.Ej)({app:e.alias,redirectURL:"/apps/".concat(e.alias,"/?").concat(h.Nv,"=").concat(t),headerCloseURL:"/apps/".concat(e.alias)});if(i&&!r)return p().push(a)}o(t),await s({[h.cX]:c,...a?{[h.vA]:"true"}:{}}),await l(m.Bb.INSTALL)}}var x=n(71696),j=n(59540),w=n(37197);function C(e){let{widgetPid:t,projectPid:n,projectName:i,query:r}=e,{search:a,page:o}=r,l={};return a&&(l[w.a6]=a),o&&(l[w.ms]=o),n&&(l[j.L9]=n),i&&(l[j.dk]=i),(0,x.HN)(t,l)}function b(e,t){return Array.isArray(e)?e.find(e=>e.app.alias===t):e}var y=n(61714);let E=e=>{let{widgetPid:t,listQueryKey:n}=e,i=(0,y.NL)();return async()=>{await i.cancelQueries(n),i.setQueryData(n,function(){let{meta:e,payload:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{meta:{lastPage:0,totalItems:0},payload:[]};return{meta:e,payload:n.filter(e=>e.pid!==t)}})}};var I=n(76666);let S=e=>{let t=(0,y.NL)(),{setItemsTransition:n}=(0,I.Ii)(),{state:i,setPage:r}=(0,s.eX)();return()=>{var a;let o=t.getQueryData(e);(null==o?void 0:null===(a=o.payload)||void 0===a?void 0:a.length)===1&&i.page>1&&(r(i.page-1),n(!1))}}},16229:function(e,t,n){n.d(t,{B:function(){return a}});var i=n(57447),r=n(28349);function a(){let{state:{page:e,search:t,sortBy:n,itemsPerPage:a}}=(0,r.eX)(),{currentAppAlias:o}=(0,i.OI)();return{page:e,search:t,sortWidgetsVariant:n,itemsPerPage:a,appAlias:o}}},91406:function(e,t,n){n.d(t,{p:function(){return a}});var i=n(95474),r=n(16229);function a(){let e=(0,r.B)(),{refetch:t}=(0,i.rO)(e),{refetch:n}=(0,i.HC)(e.appAlias);return()=>{t(),n()}}},12125:function(e,t,n){n.d(t,{f:function(){return a}});var i=n(61714),r=n(79504);function a(){let e=(0,i.NL)();return()=>{e.invalidateQueries({predicate:e=>{let{queryKey:t}=e;return[r.Hwc].includes(t[0])}})}}},77367:function(e,t,n){n.d(t,{Z:function(){return r},a:function(){return l}});var i=n(28349);function r(e){let{state:{page:t,search:n,sortBy:r,itemsPerPage:a}}=(0,i.eX)();return{projectPid:e,page:t,search:n,sortWidgetsVariant:r,itemsPerPage:a}}var a=n(61714),o=n(19296);function l(e){let{exceptionProjectPid:t}=e,n=(0,a.NL)();return()=>{n.resetQueries({predicate:e=>{let{queryKey:n}=e;return t?[o._A].includes(n[0])&&n[1]!==t:[o._A].includes(n[0])}})}}},59540:function(e,t,n){n.d(t,{L9:function(){return i},dk:function(){return r},gK:function(){return a}});let i="projectPid",r="projectName",a=15},85459:function(e,t,n){n.d(t,{l:function(){return o}});var i=n(61714),r=n(19296),a=n(79504);function o(){let e=(0,i.NL)();return()=>{e.invalidateQueries({predicate:e=>{let{queryKey:t}=e;return[r.te,r.mr,r.WJ,r.u4,r._A,a.Rc7,r.z$].includes(t[0])}})}}},44209:function(e,t,n){n.d(t,{b2:function(){return c},w2:function(){return g},JP:function(){return H},kq:function(){return k},TW:function(){return L},c1:function(){return b}});var i=n(24246),r=n(5332),a=n(50548),o=n(95474),l=n(76666),s=n(49450);function c(e){let{onRequestClose:t,onSuccess:n,widgetPid:c,widgetName:d,...u}=e,{setItemsTransition:p,listQueryKey:f}=(0,l.Ii)(),h=(0,s.GI)({widgetPid:c,listQueryKey:f}),g=(0,s.Yg)(f),{mutate:m,isLoading:v}=(0,o.af)(c,{onMutate:()=>{h(),g()},onSuccess:()=>{r.Am.success('Widget "'.concat(d,'" was deleted.'),{icon:null})},onError:()=>{p(!1)},onSettled:()=>{n()}});return(0,i.jsx)(a.u_,{title:"Are you sure you want to delete the widget?",onRequestClose:t,actions:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.zx,{fullWidth:!0,center:!0,variation:"secondary",onClick:t,children:"Cancel"}),(0,i.jsx)(a.zx,{fullWidth:!0,center:!0,variation:"alertPrimary",isLoading:v,onClick:e=>{p(!0),m(),t&&t(e)},children:"Delete Widget"})]}),...u,children:(0,i.jsx)(a.P,{alignCenter:!0,children:"Once deleted it cannot be recovered."})})}var d=n(27378),u=n(19244),p=n(88039),f=n(88047),h=n(58428);function g(e){var t;let{isOpen:n,widgetPid:l,widgetName:s,onSuccess:c,onRequestClose:g,...m}=e,[v,x]=(0,d.useState)(s),{mutate:j}=(0,o.OL)({widgetPid:l,name:s},{onSuccess:e=>{e&&(r.Am.success('Widget "'.concat(s,'" renamed to "').concat(e.name,'"')),c())}}),w=(0,a.wL)(n),{register:C,handleSubmit:b,formState:{errors:y,isValid:E},reset:I,setValue:S}=(0,p.cI)({mode:"onChange",resolver:(0,f.L)(h.G),defaultValues:{widgetPid:l,name:v}}),P=C("name"),L=(0,u.l)([P.ref,w]),T=e=>{I({name:v,widgetPid:l}),g&&g(e)};return(0,d.useEffect)(()=>{s&&(x(s),S("name",s))},[s]),(0,i.jsx)(a.u_,{isOpen:n,onRequestClose:T,actions:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.zx,{fullWidth:!0,center:!0,variation:"secondary",onClick:T,children:"Cancel"}),(0,i.jsx)(a.zx,{fullWidth:!0,center:!0,variation:"primary",onClick:e=>{E&&(b(e=>{x(e.name),j(e)})(),g&&g(e))},type:"submit",children:"Save"})]}),title:"Rename Widget",...m,children:(0,i.jsx)(a.l0,{onSubmit:e=>{e.preventDefault(),E&&(b(e=>{j(e),x(e.name)})(),g&&g(e))},children:(0,i.jsx)(a.II,{...P,error:null==y?void 0:null===(t=y.name)||void 0===t?void 0:t.message,ref:L,label:"Widget Name",spellCheck:!1,onFocus:e=>{v.length&&e.target.select()}})})})}var m=n(11163),v=n.n(m),x=n(61973),j=n(10803),w=n(66537),C=n(78478);function b(e){let{isOpen:t,appAlias:n,zIndex:r,onRequestClose:l,isProjectsPage:s,projectPid:c,...d}=e,{data:u,isLoading:p}=(0,o.z8)({appAlias:n},{enabled:t&&!!n}),f=(0,w.h1)("modal"),h=(0,w.h1)("limitForApp");if(!u)return null;let g=u.widgetsTotalCount/u.widgetsLimit,m=1===u.widgetsLimit?"widget":"widgets",x="".concat(u.app.name," widget limit").concat(g>=1?" reached":""),b="You can create only ".concat(u.widgetsLimit," ").concat(u.app.name," ").concat(m," on the ").concat(u.planName," plan. Upgrade your plan to increase the limit").concat(g>=1?" or just delete the existing widget":"","."),P=s&&c?"/projects/".concat(c):"/apps/".concat(u.app.alias),L=(0,C.Ej)({app:u.app.alias,headerCloseURL:P,redirectURL:P,claim:"upgradePlan"});return(0,i.jsx)(a.u_,{maxWidth:520,onRequestClose:l,padding:[32,32],zIndex:r,isOpen:t,...d,children:p||!u?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.H1,{alignCenter:!0,gb:!0,children:"Widget limit"}),(0,i.jsx)(a.aN,{})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(I,{_backgroundColor:g>1?"alertTransparent":1===g?"warningTransparent":"accentTransparent",children:[g>=1&&(0,i.jsx)(E,{component:j.Z,size:16,fill:g>1?"alert":"warning"}),(0,i.jsxs)(a.H3,{alignCenter:!0,children:[(0,a.oz)(u.widgetsTotalCount)," ",(0,i.jsx)(S,{children:"/"})," ",(0,a.oz)(u.widgetsLimit)]})]}),(0,i.jsx)(a.H1,{alignCenter:!0,mb:8,children:x}),(0,i.jsx)(a.P,{big:!0,alignCenter:!0,mb:20,children:b}),(0,i.jsx)(y,{large:!0,center:!0,variation:g>=1?"successPrimary":"successSecondary",onClick:async()=>{(0,o._P)({name:C.m2,params:{button_name:"Select Plan",button_place:"Modal"}}),await f(void 0),await h(void 0),v().push(L)},children:"Increase Widget Limit"})]})})}let y=(0,x.default)(a.zx).withConfig({componentId:"sc-99b11892-0"})(["margin:0 auto;"]),E=(0,x.default)(a.JO).withConfig({componentId:"sc-99b11892-1"})(["margin-right:8px;"]),I=x.default.div.withConfig({componentId:"sc-99b11892-2"})(["display:flex;justify-content:center;width:fit-content;flex-shrink:0;margin:0 auto 20px;align-items:center;padding:8px 16px;border-radius:40px;background:",";"],e=>{let{_backgroundColor:t,theme:n}=e;return n.colors[t]}),S=x.default.span.withConfig({componentId:"sc-99b11892-3"})(["color:",";"],e=>{let{theme:t}=e;return t.colors.gray30});var P=n(79476);function L(e){let{widgetPid:t,...n}=e,r=(0,w.n8)(t);return(0,i.jsx)(a.u_,{maxWidth:520,withClose:!0,padding:[32,32],...n,children:(0,i.jsxs)(T,{children:[(0,i.jsx)(R,{children:(0,i.jsx)(a.JO,{size:20,component:P.Z,fill:"brand"})}),(0,i.jsxs)(A,{children:[(0,i.jsx)(a.H2,{children:"Form Responses"}),(0,i.jsx)(a.P,{children:"Here you can download all the responses that were submitted through your form in CSV format."}),(0,i.jsx)(a.P,{children:"Also remember that your form supports different integrations and, for example, you can send form submissions to Google Sheets. You can set up integrations in the configurator."})]}),(0,i.jsx)(a.zx,{variation:"accentPrimary",href:r,target:"_blank",children:"Download Responses"})]})})}let T=x.default.div.withConfig({componentId:"sc-5deb454b-0"})(["display:flex;flex-direction:column;align-items:center;gap:20px;box-sizing:border-box;"]),R=x.default.div.withConfig({componentId:"sc-5deb454b-1"})(["display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:",";border-radius:8px;"],e=>{let{theme:t}=e;return(0,a.WE)(t.colors.brand,.1)}),A=x.default.div.withConfig({componentId:"sc-5deb454b-2"})(["display:flex;flex-direction:column;text-align:center;max-width:400px;gap:12px;"]);var D=n(45712),_=n(93989);function k(e){let{app:t,...n}=e,r=(0,_.Kj)();return(0,i.jsxs)(a.u_,{maxWidth:500,padding:[32,32],...n,children:[(0,i.jsxs)(W,{children:[(0,i.jsx)(a.yO,{icon:t.icon,size:48}),(0,i.jsx)(M,{size:16,component:D.Z,fill:"success"})]}),(0,i.jsxs)(a.H1,{alignCenter:!0,gb:!0,children:["Your ",t.name," widget is already created"]}),(0,i.jsx)(a.P,{big:!0,alignCenter:!0,mb:20,children:"You can continue editing widget, change its template to start from scratch and get the code for the widget’s installation in your Elfsight dashboard"}),(0,i.jsx)(O,{type:"submit",variation:"accentPrimary",onClick:function(){if(!r.isWixSession){(0,w.sy)("/apps/".concat(t.alias));return}(0,w.sy)("/apps/".concat(t.alias,"/?").concat("wixWidgetId","=").concat(r.wixWidgetId),window)},children:"View Widget"})]})}let W=x.default.div.withConfig({componentId:"sc-c584ef2b-0"})(["position:relative;margin:0 auto 20px;width:52px;"]),O=(0,x.default)(a.zx).withConfig({componentId:"sc-c584ef2b-1"})(["margin:0 auto;"]),M=(0,x.default)(a.JO).withConfig({componentId:"sc-c584ef2b-2"})(["background:#c2fdcd;box-shadow:inset 0 0 2px rgba(14,193,47,0.2);z-index:1;width:28px;height:28px;position:absolute;border-radius:50%;display:flex;align-items:center;justify-content:center;right:-2px;bottom:-6px;"]);var N=n(56539),Z=n(54616);function H(e){let{isOpen:t,widgetPid:n,onSuccess:l,onClose:s,...c}=e,{mutate:d,isLoading:u}=(0,o.ST)({onSuccess:()=>{r.Am.success("Widget updated successfully"),l(),s()},onError:()=>{r.Am.error((0,i.jsxs)(i.Fragment,{children:["Update failed. Try again or ",(0,i.jsx)(Z.p8,{underline:!0})]})),s()}});return(0,i.jsxs)(a.u_,{isOpen:t,maxWidth:600,padding:[32,32],onRequestClose:s,actions:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.zx,{disabled:u,fullWidth:!0,center:!0,variation:"secondary",onClick:s,children:"Cancel"}),(0,i.jsx)(a.zx,{isLoading:u,fullWidth:!0,center:!0,variation:"accentPrimary",onClick:()=>d({widgetPid:n}),type:"submit",children:"Confirm Update"})]}),title:"Update to the Latest Version",...c,children:[(0,i.jsx)(a.ZT,{mb:20,variant:"text",children:"You’re about to update this widget to Pricing Table 4.0. This version includes major improvements, new layouts, and advanced customization options. Updating may affect your custom CSS or JS modifications."}),(0,i.jsx)(a.ZT,{variant:"title3Semibold",children:"What’s New:"}),(0,i.jsx)(a.ZT,{variant:"text",children:(0,i.jsxs)(F,{children:[(0,i.jsx)(B,{children:"Fully Redesigned Layouts: including horizontal scrolling, a highly requested feature."}),(0,i.jsx)(B,{children:"Flexible Pricing Options: choose currencies, subscription models, price ranges, minimum prices, or custom pricing structures."}),(0,i.jsx)(B,{children:"Discount Management: display old prices and discount amounts with automatic calculations."}),(0,i.jsx)(B,{children:"Move Columns Between Tables: easily transfer columns across different tables."}),(0,i.jsx)(B,{children:"Custom Icons for Features: personalize your tables with unique icons."}),(0,i.jsx)(B,{children:" … and much more!"})]})}),(0,i.jsx)(a.UW,{icon:(0,i.jsx)(a.JO,{size:16,component:N.Z,fill:"warning"}),backgroundColor:"warning",children:"Important: Custom CSS and JavaScript may require adjustments after the update."})]})}let F=x.default.ul.withConfig({componentId:"sc-16c79c76-0"})(["",";margin:8px 0 20px 0;padding:0;"],e=>{let{theme:t}=e;return t.font.text}),B=x.default.li.withConfig({componentId:"sc-16c79c76-1"})(["",";margin:0 0 0 21px;padding:0;"],e=>{let{theme:t}=e;return t.font.text})},93169:function(e,t,n){n.d(t,{gT:function(){return s},sF:function(){return c}});var i=n(24246),r=n(27378),a=n(95474),o=n(29153);let l=(0,r.createContext)(null);function s(e){let{children:t,pid:n}=e,{data:r}=(0,o.mo)(),{isOwner:s}=r,c=(0,a.zC)(n,{enabled:s});return(0,i.jsx)(l.Provider,{value:c,children:t})}function c(){let e=(0,r.useContext)(l);if(null===e)throw Error("`useCurrentWidgetAdditionalInfoQuery` must be nested inside an `CurrentWidgetAdditionalInfoQueryProvider`.");return e}},29153:function(e,t,n){n.d(t,{MK:function(){return c},mo:function(){return d}});var i=n(24246),r=n(27378),a=n(56729),o=n(95474),l=n(54616);let s=(0,r.createContext)(null);function c(e){let{children:t,initialData:n,pid:r}=e,c=(0,o.M1)(r,{onError:e=>{(0,l.OJ)(e,[a.mz.WIDGET_DOES_NOT_EXIST])},initialData:n});return(0,i.jsx)(s.Provider,{value:c,children:t})}function d(){let e=(0,r.useContext)(s);if(null===e)throw Error("`useCurrentWidgetQuery` must be nested inside an `CurrentWidgetQueryProvider`.");return e}},71696:function(e,t,n){n.d(t,{Ms:function(){return eA},lg:function(){return eD},HN:function(){return eW}});var i=n(24246),r=n(38250),a=n(45526),o=n(54616),l=n(27378),s=n(61973),c=n(11163),d=n.n(c),u=n(5332),p=n(40015),f=n.n(p),h=n(30644),g=n.n(h),m=n(25799),v=n(50548),x=n(56729),j=n(79504),w=n(95474),C=n(66537),b=n(14937),y=n(78478),E=n(37197),I=n(59540),S=n(61615),P=n(90865),L=n(50875);let T=e=>{let{children:t}=e;return(0,i.jsxs)(i.Fragment,{children:["\xa0\xa0",(0,i.jsx)(R,{children:t})]})},R=s.default.span.withConfig({componentId:"sc-1a4fb348-0"})(["vertical-align:text-bottom;display:inline-block;position:relative;"]);var A=n(61714);function D(e){let t=(0,A.NL)();return()=>{t.invalidateQueries([j.SN0,e]),t.invalidateQueries([j.xXv,e])}}function _(e){let t=(0,A.NL)();return n=>t.setQueryData([j.SN0,e],e=>e?{...e,...n}:e)}var k=n(1218);function W(e){let{savedAt:t,size:n=20}=e,r=(0,l.useRef)(t),[a,o]=(0,l.useState)(void 0),s=(0,l.useRef)(),c=()=>{s.current=setTimeout(()=>{o("saved")},1e3)},d=()=>{s.current&&clearTimeout(s.current)};if((0,l.useEffect)(()=>{if(!t){o(void 0);return}if(r.current===t){o("saved");return}return r.current=t,o("saving"),c(),d},[t]),!t||!a)return null;let u=O(t);return(0,i.jsx)(v.u,{content:{saving:"Saving changes",saved:(0,i.jsxs)(i.Fragment,{children:["Your changes were auto-saved at ",u,".",(0,i.jsx)("br",{}),"Publish them to display on your website."]})}[a],children:(0,i.jsx)(M,{_size:n,children:{saving:(0,i.jsx)(Z,{}),saved:(0,i.jsx)(H,{})}[a]})})}let O=e=>{if(!e)return;let t=new Date(e),n=new Date;return(0,k.Z)(t,n)?t.toLocaleTimeString("en",{hour:"numeric",minute:"numeric",hour12:!1}):t.toLocaleDateString("en",{month:"long",day:"numeric"})},M=s.default.span.withConfig({componentId:"sc-376bb6cf-0"})(["vertical-align:text-bottom;display:inline-block;position:relative;width:","px;height:","px;svg{width:","px;height:","px;}"],e=>{let{_size:t}=e;return t},e=>{let{_size:t}=e;return t},e=>{let{_size:t}=e;return t},e=>{let{_size:t}=e;return t}),N=(0,s.keyframes)(["0%{opacity:0;}50%,100%{opacity:1;}"]),Z=(0,s.default)(e=>(0,i.jsxs)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9249 3.19995C15.3645 3.19995 18.323 5.38986 19.1325 8.43528C21.8138 9.14813 23.7824 11.4809 23.7824 14.1636C23.7824 17.3405 21.0992 19.904 17.7598 20.0565L17.4254 20.0614L17.3624 20.0673H7.03115C3.24682 20.0673 0.149902 17.2195 0.149902 13.6673C0.149902 10.7863 2.19234 8.28439 5.05051 7.488C6.17777 4.92099 8.87912 3.19995 11.9249 3.19995ZM11.9249 4.99995C9.44765 4.99995 7.29617 6.46395 6.56296 8.5543C6.46425 8.83572 6.23987 9.03716 5.97485 9.11775L5.8897 9.13585C3.59963 9.60707 1.9499 11.5072 1.9499 13.6673C1.9499 16.1031 4.05568 18.1235 6.74126 18.2599L7.03115 18.2673L17.4449 18.2636C19.967 18.2636 21.9824 16.4104 21.9824 14.1636C21.9824 12.2759 20.5073 10.5872 18.4964 10.1332L18.1644 10.0671L18.0657 10.0372C17.7715 9.92895 17.5424 9.66996 17.4877 9.33864C17.0807 6.87285 14.7316 4.99995 11.9249 4.99995Z"}),(0,i.jsx)("circle",{cx:"8.39995",cy:"13.4",r:"1.2"}),(0,i.jsx)("circle",{cx:"12",cy:"13.4",r:"1.2"}),(0,i.jsx)("circle",{cx:"15.5999",cy:"13.4",r:"1.2"})]})).withConfig({componentId:"sc-376bb6cf-1"})(["fill:",";circle{opacity:0;}circle:nth-of-type(1){animation:"," 0.6s linear infinite alternate;}circle:nth-of-type(2){animation:"," 0.6s 0.2s linear infinite alternate;}circle:nth-of-type(3){animation:"," 0.6s 0.4s linear infinite alternate;}"],e=>{let{theme:t}=e;return t.colors.gray30},N,N,N),H=(0,s.default)(e=>(0,i.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9249 3.19995C14.1084 3.19995 16.0981 4.08247 17.4672 5.50613L16.1544 6.73824C15.1207 5.67086 13.6048 4.99995 11.9249 4.99995C9.44765 4.99995 7.29617 6.46395 6.56296 8.5543C6.46425 8.83572 6.23987 9.03716 5.97485 9.11775L5.8897 9.13585C3.59963 9.60707 1.9499 11.5072 1.9499 13.6673C1.9499 16.1031 4.05568 18.1235 6.74126 18.2599L7.03115 18.2673L17.4449 18.2636C19.967 18.2636 21.9824 16.4104 21.9824 14.1636C21.9824 12.5951 20.964 11.1641 19.466 10.4644L20.8416 9.16114C22.6097 10.2309 23.7824 12.093 23.7824 14.1636C23.7824 17.3405 21.0992 19.904 17.7598 20.0565L17.4254 20.0614L17.3624 20.0673H7.03115C3.24682 20.0673 0.149902 17.2195 0.149902 13.6673C0.149902 10.7863 2.19234 8.28439 5.05051 7.488C6.17777 4.92099 8.87912 3.19995 11.9249 3.19995ZM20.1089 6.47461C19.7209 6.1084 19.0918 6.1084 18.7038 6.47461L11.194 13.5361L8.896 11.3664L8.75839 11.2579C8.37117 11.0047 7.8358 11.0409 7.49091 11.3664C7.1029 11.7326 7.1029 12.3264 7.49091 12.6926L10.4922 15.5253L10.6299 15.6338C11.0171 15.887 11.5524 15.8508 11.8973 15.5253L20.1089 7.80075L20.2239 7.67088C20.4921 7.30542 20.4538 6.80012 20.1089 6.47461Z"})})).withConfig({componentId:"sc-376bb6cf-2"})(["fill:",";"],e=>{let{theme:t}=e;return t.colors.gray30});var F=n(29153),B=n(93169),z=n(81437),G=n(68816),U=n(55045),V=n(11298),X=n(16023),J=n(48645);let q=e=>{let{app:t}=e,{data:n}=(0,B.sF)(),{override:a}=(0,b.lO)(),o=(null==n?void 0:n.viewsCountingPeriodEndDate)?(0,V.x1)((0,U.Z)(new Date(n.viewsCountingPeriodEndDate),1)):null,l=(0,y.Ej)({app:t.alias,flow:!0,redirectBack:!0}),s=(0,i.jsx)(v.rU,{underline:!0,onClick:e=>{e.preventDefault(),a({beaconHidden:!1}),J.N.article(X.qi.views.id)},children:"Learn more about views"});return(0,i.jsx)(r.Du,{backgroundColor:"alert",button:(0,i.jsx)(v.zx,{variation:"successPrimary",href:l,small:!0,children:"Upgrade"}),children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v.H4,{color:"alert",children:"Deactivated due to view limit reached\xa0"}),(0,i.jsx)(v.kW,{width:300,content:(0,i.jsxs)(i.Fragment,{children:["Deactivated widgets no longer work on your website until views reset on ",o,". To continue using ",t.name," app, upgrade to a higher plan. ",s]}),iconColor:"alert",withSafePolygon:!0})]})})};function Q(){return(0,i.jsx)(r.Du,{backgroundColor:"alert",children:(0,i.jsx)(v.H4,{color:"alert",children:"Widget is currently deactivated. Please contact the widget owner."})})}function Y(){let{data:e}=(0,F.mo)(),{data:t}=(0,B.sF)(),{data:n}=(0,z.zM)();return(null==n?void 0:n.hasExceededViewsUsage)&&!e.isOwner?(0,i.jsx)(Q,{}):(null==t?void 0:t.hasExceededViewsUsage)?(0,i.jsx)(q,{app:e.app}):null}function $(){var e;let t=(0,b.dD)(),{backToAppsPage:n}=(0,b.OI)(),{data:r,isFetched:a}=(0,F.mo)(),{data:s,isFetched:c}=(0,B.sF)(),{isFetched:p}=(0,z.zM)(),{open:h}=(0,L.c$)(),{sendEditWidgetMessage:R}=(0,C.fu)(),A=D(r.pid),k=_(r.pid),O=0!==(0,m.B)({mutationKey:[j._0p,r.pid]}),M=(0,l.useRef)(!1),{isButtonReady:N,canPublish:Z,publishButtonStatus:H,setPublishButtonStatus:U}=(0,G.wZ)(),{mutate:V}=(0,w.F2)(r.pid,{onMutate:()=>{U(G.SD.LOADING)},onSuccess:()=>{k({unpublishedWidgetRevision:void 0}),A(),u.Am.success(r.isDraft?"Your draft widget has been published.":"Changes were published."),M.current=!1,U(G.SD.DISABLED)},onError:e=>{if(e===x.mz.WIDGETS_LIMIT_REACHED){h(L.Bb.LIMIT_REACHED);return}(0,o.OJ)(e),U(G.SD.IDLE)}}),[{search:X,page:J,projectPid:q,projectName:Q},$]=(0,l.useState)({}),[en,ei]=(0,C.KL)([E.ms,E.a6,I.L9,I.dk],!0);(0,l.useEffect)(()=>{$(en),ei({[E.a6]:void 0,[E.ms]:void 0,[I.L9]:void 0,[I.dk]:void 0})},[]);let er=!!(null==s?void 0:s.isLiteSubscription)&&!(null==s?void 0:s.isLiteSubscriptionConfirmed);(0,l.useEffect)(()=>{!O&&M.current&&(V({}),M.current=!1)},[O]);let ea=()=>{let e=f()({search:X,page:J},g());if(q){d().push({pathname:"/projects/".concat(q),query:e});return}n({query:e})},eo=Q?"Go to ".concat(Q," project"):"Go to ".concat(r.app.name),el=q?"/projects/".concat(q):"/apps/".concat(r.app.alias),es=H===G.SD.LOADING,ec=H===G.SD.DISABLED;return(0,i.jsx)(P.T$,{style:{leftColumn:{flexShrink:1}},slotGap:12,slotGapMobile:2,topSlot:(0,i.jsx)(Y,{}),leftSlot:(0,i.jsxs)(et,{children:[t?(0,i.jsx)(P.N1,{onClick:ea}):(0,i.jsx)(v.u,{content:eo,children:(0,i.jsx)("div",{children:(0,i.jsx)(K,{href:el,children:(0,i.jsx)(v.yO,{icon:r.app.icon,size:36})})})}),(0,i.jsx)(v.u,{content:"Rename Widget",children:(0,i.jsx)(v.zx,{padding:8,textColor:"black",onClick:()=>h(L.Bb.RENAME),children:r.name})}),(0,i.jsxs)(ee,{children:[r.isDraft&&(0,i.jsx)(T,{children:(0,i.jsx)(v.u,{content:"Widget is not visible on the website",children:(0,i.jsx)(v.Af,{children:"DRAFT"})})}),!r.isDraft&&(0,i.jsx)(T,{children:(0,i.jsx)(W,{savedAt:null===(e=r.unpublishedWidgetRevision)||void 0===e?void 0:e.updatedAt})})]})]}),rightSlot:(0,i.jsxs)(i.Fragment,{children:[(c||p)&&a&&N&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v.u,{content:"Display all the changes on the website",openDelay:1500,children:(0,i.jsx)(v.zx,{disableShrink:!0,disabled:ec,isLoading:es,variation:"successPrimary",onClick:()=>{if(O&&(M.current=!0),Z&&!M.current&&(V({}),R()),er){if(q){d().push((0,y.Ej)({app:r.app.alias,redirectURL:"/projects/".concat(q,"/?").concat(S.Nv,"=").concat(r.pid),headerCloseURL:"/projects/".concat(q)}));return}d().push((0,y.Ej)({app:r.app.alias,redirectURL:"/apps/".concat(r.app.alias,"/?").concat(S.Nv,"=").concat(r.pid),headerCloseURL:"/apps/".concat(r.app.alias)}))}U(G.SD.LOADING)},children:ec?"Published":"Publish"})}),(null==s?void 0:s.shouldProposeUpgrade)&&(0,i.jsx)(v.zx,{disableShrink:!0,variation:"successSecondary",onClick:()=>{(0,w._P)({name:y.m2,params:{button_name:"View plans",button_place:"Editor"}}),d().push((0,y.Ej)({flow:!0,app:r.app.alias}))},children:t?"Plans":"View Plans"})]}),!t&&(0,i.jsx)(v.zx,{disableShrink:!0,variation:"secondary",onClick:ea,children:"Close"})]})})}let K=(0,s.default)(v.rU).withConfig({componentId:"sc-dde4c2ba-0"})(["margin-right:8px;"]),ee=s.default.div.withConfig({componentId:"sc-dde4c2ba-1"})(["display:inherit;"]),et=s.default.div.withConfig({componentId:"sc-dde4c2ba-2"})(["display:flex;align-items:center;overflow:hidden;"]);var en=n(66471),ei=n.n(en),er=n(92465),ea=n.n(er),eo=n(86387),el=n(93655),es=n(16450);function ec(e){let t=D(e),n=(0,A.NL)(),{data:i}=(0,F.mo)(),{setCurrentAppAlias:r}=(0,b.OI)(),{open:a}=(0,L.c$)();return(0,w.F2)(e,{onSuccess:()=>{u.Am.success('Widget "'.concat(i.name,'" was created.')),t(),r(i.app.alias),n.resetQueries({predicate:e=>{let{queryKey:t}=e;return[j.Srw,es.tT,j.Rc7,j.xUq].includes(t[0])}})},onError:e=>{if(e===x.mz.WIDGETS_LIMIT_REACHED)return a(L.Bb.LIMIT_REACHED);(0,o.OJ)(e)}})}var ed=n(66726),eu=n.n(ed),ep=n(5172);let ef=["widgetId","template"],eh=(e,t)=>ei()(eg(e),eg(t)),eg=e=>f()(f()(e,ea()),(e,t)=>ef.includes(t)),em={id:"f49ac343-fb8d-4ecb-95d6-2cbce2d7548f",name:"Blank",image:"",category:"",settings:{}};function ev(e){let t=e.unpublishedWidgetRevision||e.publishedWidgetRevision,n=e.unpublishedWidgetRevision?"unpublished":"published",i=[t.pid,n,t.settingsHash].join(":");return{settings:t.settings,widgetToken:t.widgetToken,key:i}}var ex=n(39499),ej=n(48628),ew=n.n(ej);let eC=["settings","widgetToken"],eb=(0,l.memo)(eo.z$,(e,t)=>ei()(eE(e),eE(t)));function ey(){var e;let{query:t}=(0,c.useRouter)(),n=(0,C.Xi)(),{user:r}=(0,b.aF)(),{override:a}=(0,b.lO)(),s=(0,b.dD)(),{data:d,isFetching:p}=(0,F.mo)(),{data:f}=(0,B.sF)(),{getSettings:h,setWidgetToken:g,setHasInstallation:E}=(0,eo.yl)(),[I,S]=(0,l.useState)(!0),{mutate:P}=ec(d.pid),{data:L}=(0,w.Uz)(d.pid,{onError:e=>{(0,o.OJ)(e,[x.HF.SUBSCRIPTION_DOES_NOT_EXIST])}}),{isTemplatesReady:T,displayTemplates:R,templates:A}=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{query:n}=(0,c.useRouter)(),i=!!n.templatePid,r=!!n.withoutTemplates,a=t&&!i,{data:o,isFetched:l}=(0,w.hA)(e,a);return{isTemplatesReady:a&&l||!a,displayTemplates:t&&!(r||i),templates:((null==o?void 0:o.payload)||[]).length>0?null==o?void 0:o.payload:[em]}}(d.app.alias,d.isIncipient),{settings:D,widgetToken:k}=ev(d),W=function(e,t){let{user:n}=(0,b.aF)(),i=(0,ep.jw)(null==n?void 0:n.email),r=_(e),{setPublishButtonStatus:a}=(0,G.wZ)(),o=(0,l.useRef)(!1),{mutate:s,abort:c,isLoading:d}=(0,w.vc)(e,{onSuccess:e=>{o.current||r({unpublishedWidgetRevision:e})}});(0,C.U)(d);let u=(0,l.useCallback)(eu()(e=>{c(),o.current=!1,s({settings:e})},700,{leading:!1}),[]),p=(0,l.useRef)();(0,l.useEffect)(()=>(p.current=u,()=>{var e;(null===(e=p.current)||void 0===e?void 0:e.cancel)&&p.current.cancel()}),[]);let f=(0,l.useRef)(t);return e=>{let{settings:t}=e;t&&(i&&function(e,t){let n={};(function e(t,i,r){for(let a in i){let o=[t,a].filter(Boolean).join(".");if(i.hasOwnProperty(a)){let t=i[a],l=r[a];"object"==typeof t&&"object"==typeof l&&null!==t&&null!==l?e(o,t,l):t!==l&&(n[o]=[t,l])}}})(void 0,e,t),Object.keys(n).length}(eg(t),eg(f.current)),!eh(t,f.current)&&(o.current=!0,f.current=t,p.current&&(p.current.cancel(),p.current(t)),document.hasFocus()&&a(G.SD.IDLE)))}}(d.pid,D),O=(0,l.useCallback)(e=>{W(e)},[]);!function(){let{setSettings:e}=(0,eo.yl)(),{data:t,refetch:n}=(0,F.mo)(),{key:i}=ev(t),r=0!==(0,m.B)({mutationKey:[j._0p,t.pid]}),a=(0,l.useRef)(i);(0,l.useEffect)(()=>{a.current=i},[i]),(0,l.useEffect)(()=>{o.current=r},[r]);let o=(0,l.useRef)(!1);(0,ex.hI)(["WidgetSettingsUpdated"],async i=>{let{payload:r}=i;if(!document.hasFocus()&&!t.isIncipient&&!o.current&&t.pid===r.widgetPid&&a.current!==r.revisionKey){let{data:t}=await n();if(t){let{settings:n}=ev(t);e(n)}}})}(),function(){let{setSettings:e}=(0,eo.yl)(),{refetch:t,dataUpdatedAt:n,data:i}=(0,F.mo)();(0,l.useEffect)(()=>{let r=async()=>{if("hidden"!==document.visibilityState&&(null==i||!i.isIncipient)&&Date.now()>n+ew()("5 minutes")){let{data:n}=await t();if(n){let{settings:t}=ev(n);e(t)}}};return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}},[n,null==i?void 0:i.isIncipient])}(),(0,l.useEffect)(()=>{k&&g(k)},[k]),(0,l.useEffect)(()=>{E(!!(null==f?void 0:f.hasInstallation))},[null==f?void 0:f.hasInstallation]);let M=(0,l.useCallback)(()=>{a({...el.widgetPageConfig,beaconHidden:!1}),J.N.openChat()},[a,el.widgetPageConfig]),N=(0,l.useCallback)(function(){let{claim:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,y.Ej)({app:d.app.alias,claim:e||void 0,headerCloseURL:"/apps/".concat(d.app.alias),redirectURL:"/apps/".concat(d.app.alias)});(0,w._P)({name:"cta_click",params:{cta_name_click:"Remove Branding Control",cta_placement_click:"".concat(d.app.name," - Editor")}}),n(t,"_blank")},[d.app.alias]),Z=(0,l.useCallback)(e=>{let{message:t}=e;return u.Am.error(t)},[]),H=(0,l.useCallback)(e=>{let{version:t}=e;!function(e){let{configuratorVersion:t,appName:n,appReleaseVersion:i,appReleaseType:r}=e}({configuratorVersion:t,appName:d.app.name,appReleaseVersion:d.appRelease.version,appReleaseType:d.appRelease.type}),S(!1)},[d.app.name,d.appRelease.version,d.appRelease.type]),z=(0,l.useCallback)(async()=>{setTimeout(async()=>{let e=await h();W({settings:e}),P({settings:e})},500)},[h]),U=r&&{email:r.email},V=(null==L?void 0:L.plan)&&{planType:L.plan.type,planGrade:null!==(e=L.plan.grade)&&void 0!==e?e:null};return(0,i.jsxs)(i.Fragment,{children:[(I||p)&&(0,i.jsx)(v.aN,{absolute:!0,large:!0,style:{position:"fixed",zIndex:1e5}}),(0,i.jsx)(eI,{children:T&&(0,i.jsx)(eS,{...d.configuratorTemplateSelectorConfig,url:d.appRelease.configuratorURL,onChange:O,onHelpRequest:M,onReady:H,onError:Z,onTemplateSelect:z,templates:A,displayTemplates:R,settings:{...D,widgetId:d.pid},mobile:s,requestFeatureLink:d.requestFeatureLink||void 0,onUpgradeRequest:N,freeLink:null==f?void 0:f.freeLink,userSettings:U,planInfo:V,createMode:d.isIncipient,communityCSSCodesURL:d.app.communityCSSCodesURL||void 0,language:t.language,widgetToken:k,hasInstallation:null==f?void 0:f.hasInstallation})})]})}function eE(e){return f()(f()(e,ea()),(e,t)=>eC.includes(t))}let eI=s.default.div.withConfig({componentId:"sc-f2c6a2b9-0"})(["position:relative;width:100%;height:100%;"]),eS=(0,s.default)(eb).withConfig({componentId:"sc-f2c6a2b9-1"})(["height:calc(100vh - var(--layout-header-height));@supports (height:100dvh){height:calc(100dvh - var(--layout-header-height));}"]);var eP=n(78124),eL=n(31529);function eT(){let{query:e}=(0,c.useRouter)(),{back:t,hasPreviousPage:n}=(0,b.k6)(),r=(0,b.dD)(),{backToAppsPage:a}=(0,b.OI)(),{data:o}=(0,F.mo)(),{data:l}=(0,B.sF)(),{mutate:s,isLoading:u}=ec(o.pid),[p]=(0,C.os)("templatePid",!1,e=>!!e),f=()=>{let{projectPid:t}=e;if(t){d().push("/projects/".concat(t));return}a({historyReplace:!0})};return(0,i.jsx)(P.T$,{leftSlot:r?(0,i.jsx)(v.hU,{large:!0,icon:eP.Z,onClick:f}):n&&(0,i.jsx)(v.hU,{large:!0,icon:eL.Z,onClick:()=>(null==l?void 0:l.hasExceededWidgetsUsage)?d().replace("/catalog"):t("/catalog")}),rightSlot:(0,i.jsxs)(i.Fragment,{children:[p&&(0,i.jsx)(v.zx,{variation:"successPrimary",isLoading:u,onClick:()=>s({}),children:"Create Widget"}),!r&&(0,i.jsx)(v.zx,{disableShrink:!0,variation:"secondary",onClick:f,children:"Close"})]}),centerSlot:(0,i.jsx)(P.Gh,{children:"Choose a Template"}),centerSlotPosition:"top"})}var eR=n(93989);let eA="auto_publish";function eD(){let{data:{pid:e,isIncipient:t}}=(0,F.mo)();return(!function(e){let{open:t}=(0,L.c$)(),[n,i]=(0,C.ZN)(eA),r="true"===n,a=D(e),s=(0,eR.Kj)(),{mutate:c,isLoading:d}=(0,w.F2)(e,{onSuccess:()=>{s.isWixSession&&s.isReady&&!s.isWixWidgetConnected&&s.connectWixWidget(e),a(),i(void 0)},onError:e=>{if(e===x.mz.WIDGETS_LIMIT_REACHED){t(L.Bb.LIMIT_REACHED);return}(0,o.OJ)(e)}}),u=(0,l.useRef)();(0,l.useEffect)(()=>(r&&(u.current=setTimeout(()=>{c({})},100)),()=>{u.current&&clearTimeout(u.current)}),[r])}(e),(0,a.G$)("welcomeMessageFromDemo"),function(e){let[t,n]=(0,l.useState)(!1);return(0,ex.hI)(["WidgetDeleted"],async t=>{let{payload:i}=t;e===i.widgetPid&&n(!0)}),t}(e))?(0,i.jsx)(o.mf,{statusCode:404,withHeader:!0}):(0,i.jsx)(r.jj,{header:t?(0,i.jsx)(eT,{}):(0,i.jsx)($,{}),withoutExplicitViewPortHeight:!0,children:(0,i.jsx)(ey,{})})}let e_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.toString()?"?".concat(e):""},ek=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URLSearchParams(t);return"".concat("/widget/".concat(e)).concat(e_(n))},eW=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ek(e,t)}},68816:function(e,t,n){n.d(t,{SD:function(){return r},hO:function(){return u},wZ:function(){return p}});var i,r,a=n(24246),o=n(27378),l=n(29153),s=n(93169),c=n(81437);(i=r||(r={})).IDLE="idle",i.LOADING="loading",i.DISABLED="disabled";let d=(0,o.createContext)(null);function u(e){let{children:t}=e,{data:n,isFetched:i}=(0,l.mo)(),{data:r,isFetched:u}=(0,s.sF)(),{isFetched:p}=(0,c.zM)(),[f,h]=(0,o.useState)("idle"),[g,m]=(0,o.useState)(!1),v=!!n.unpublishedWidgetRevision,x=!!(null==r?void 0:r.isLiteSubscription)&&!(null==r?void 0:r.isLiteSubscriptionConfirmed),j=v||n.isDraft||x,w=u||p;return(0,o.useEffect)(()=>{i&&w&&(h(j?"idle":"disabled"),m(!0))},[i,j,w]),(0,a.jsx)(d.Provider,{value:{isButtonReady:g,publishButtonStatus:f,setPublishButtonStatus:h,canPublish:j},children:t})}function p(){let e=(0,o.useContext)(d);if(null===e)throw Error("`usePublishButtonContext` must be nested inside an `PublishButtonProvider`.");return e}},81437:function(e,t,n){n.d(t,{aA:function(){return s},zM:function(){return c}});var i=n(24246),r=n(27378),a=n(95474),o=n(29153);let l=(0,r.createContext)(null);function s(e){let{children:t,pid:n}=e,{data:r}=(0,o.mo)(),{isOwner:s}=r,c=(0,a.se)(n,{enabled:!s});return(0,i.jsx)(l.Provider,{value:c,children:t})}function c(){let e=(0,r.useContext)(l);if(null===e)throw Error("`useSharedCurrentWidgetAdditionalInfoQuery` must be nested inside an `SharedCurrentWidgetAdditionalInfoQueryProvider`.");return e}},50875:function(e,t,n){n.d(t,{Bb:function(){return r},c$:function(){return f},yq:function(){return p}});var i,r,a=n(24246),o=n(27378),l=n(61973),s=n(66537),c=n(44209),d=n(29153);(i=r||(r={})).LIMIT_REACHED="limit-reached",i.RENAME="rename";let u=(0,o.createContext)(null);function p(e){let{children:t}=e,{data:n,refetch:i}=(0,d.mo)(),{zIndex:r}=(0,l.useTheme)(),[p,f]=(0,o.useState)(),[,h]=(0,s.ZN)("modal"),g=async e=>{f(e)},m=async()=>{await h(void 0),f(void 0)};return(0,a.jsxs)(u.Provider,{value:{modal:p,open:g,close:m},children:[t,(0,a.jsx)(c.c1,{isOpen:"limit-reached"===p,onRequestClose:m,appAlias:n.app.alias,withClose:!n.isIncipient,shouldCloseOnOverlayClick:!n.isIncipient,shouldCloseOnEsc:!n.isIncipient,zIndex:n.isIncipient?r.incipientWidgetLimitReachedModal:r.modalDefault}),(0,a.jsx)(c.w2,{isOpen:"rename"===p,widgetName:n.name,widgetPid:n.pid,onSuccess:i,onRequestClose:m})]})}function f(){let e=(0,o.useContext)(u);if(null===e)throw Error("`useWidgetModal` must be nested inside an `WidgetModalProvider`.");return e}},93655:function(e,t,n){n.r(t),n.d(t,{widgetPageConfig:function(){return j}});var i=n(24246),r=n(11163),a=n(86387),o=n(56729),l=n(50548),s=n(38250),c=n(95474),d=n(71696),u=n(50875),p=n(29153),f=n(93169),h=n(68816),g=n(81437),m=n(90865),v=n(54616);let x=()=>{var e;let{query:t}=(0,r.useRouter)(),n=null===(e=t.params)||void 0===e?void 0:e[0],{data:x,error:j,isLoading:w}=(0,c.M1)(n,{onError:e=>{(0,v.OJ)(e,[o.mz.WIDGET_DOES_NOT_EXIST])}});return j===o.mz.WIDGET_DOES_NOT_EXIST?(0,i.jsx)(v.mf,{statusCode:404,withHeader:!0}):w?(0,i.jsx)(s.jj,{header:(0,i.jsx)(m.T$,{leftSlot:(0,i.jsx)(i.Fragment,{})}),children:(0,i.jsx)(l.aN,{large:!0})}):x&&n?(0,i.jsx)(p.MK,{pid:n,initialData:x,children:(0,i.jsx)(f.gT,{pid:n,children:(0,i.jsx)(g.aA,{pid:n,children:(0,i.jsx)(a.$g,{children:(0,i.jsx)(u.yq,{children:(0,i.jsxs)(h.hO,{children:[(0,i.jsx)(s.dS,{title:x.name}),(0,i.jsx)(d.lg,{})]})})})})})}):null},j={offerHidden:!0,beaconHidden:!0,offerModalHidden:!0,onboardingModalHidden:!0,isWidgetConfigurationPage:!0};x.config=j,t.default=x},91314:function(e,t,n){var i,r=n(27378);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(null,arguments)}t.Z=function(e){return r.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 17"},e),i||(i=r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"m11.255 4.639.057.05.66.659c.2.2.216.514.05.734l-.05.057-7.365 7.365-.108.084-1.648.989c-.48.287-1.022-.224-.8-.707l.032-.06.99-1.649.083-.107 7.365-7.365a.56.56 0 0 1 .734-.05Zm2.078 8.955a.4.4 0 0 1 .065.794l-.065.005H6.667a.4.4 0 0 1-.065-.794l.065-.005h6.666Zm-.213-10.82.057.05.66.66c.2.2.216.514.05.733l-.05.057-.84.839a.56.56 0 0 1-.733.05l-.058-.05-.659-.66a.56.56 0 0 1-.05-.733l.05-.057.839-.839a.56.56 0 0 1 .734-.05Z",clipRule:"evenodd"})))}},83595:function(e,t,n){var i,r=n(27378);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(null,arguments)}t.Z=function(e){return r.createElement("svg",a({viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=r.createElement("g",{fill:"#111"},r.createElement("path",{d:"M9.46 1.563a6.6 6.6 0 0 0-6.118 1.764l-2.075 1.89V3.666a.6.6 0 0 0-1.2 0v3a.6.6 0 0 0 .6.6h3a.6.6 0 0 0 0-1.2H2.118l2.053-1.87.013-.013a5.4 5.4 0 0 1 8.91 2.016.6.6 0 1 0 1.132-.4A6.6 6.6 0 0 0 9.46 1.563ZM14.733 10.779l-2.075 1.89A6.6 6.6 0 0 1 1.774 10.2a.6.6 0 1 1 1.132-.4 5.4 5.4 0 0 0 8.91 2.015l.013-.013 2.053-1.87h-1.549a.6.6 0 1 1 0-1.2h3a.6.6 0 0 1 .6.6v3a.6.6 0 0 1-1.2 0V10.78Z"}))))}}}]);
//# sourceMappingURL=614-38436d8e40b39c5f.js.map